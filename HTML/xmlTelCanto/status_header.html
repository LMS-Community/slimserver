<?xml version="1.0" encoding="[% LOCALE %]" standalone="no"?>

<!DOCTYPE status SYSTEM "html/slimserver_xml.dtd">

<status xmlns="http://www.slimdevices.com/slimserver/xml">
	<version>
		[% PERL %]print $::VERSION;[% END %]
	</version>
	<players>
		<playercount>[% playercount | html %]</playercount>
		<player>
			<is_described/>
			<player_id>[% player %]</player_id>
			[% IF player_name %]<player_name>[% player_name | html %]</player_name>[% END %]
		</player>
		[% IF player_chooser_list %]
		[% player_chooser_list %]
		[% END %]
	</players>

	   
	<player_status>
		<transport>
			<mode>[% mode | html %]</mode>
			<playmode>[% IF modeplay %]playing[% END %][% IF modepause %]paused[% END %][% IF modestop %]stopped[% END %]</playmode>
    			[% IF modeplay %]<playing/>[% END %]
    			[% IF modepause %]<paused/>[% END %]
    			[% IF modestop %]<stopped/>[% END %]
 			[% IF rate && currentsong %]<rate>[% rate | html %]</rate>[% END %]
 			[% IF rateval && currentsong %]<rateval>[% rateval | html %]</rateval>[% END %]
 			[% IF sleeptime %]<sleeptime>[% sleeptime | html %]</sleeptime>[% END %]
 			[% IF sleep %]<sleep>[% sleep | html %]</sleep>[% END %]
 		</transport>
		<shuffle>
			[% IF shuffle == 0 %]<shuffle_off/>[% END %]
    		[% IF shuffle == 1 %]<shuffle_songs/>[% END %]
			[% IF shuffle == 2 %]<shuffle_albums/>[% END %]
   		</shuffle>
		<repeat>
			[% IF repeat == 1 %]<repeat_one/>[% END %]
			[% IF repeat == 2 %]<repeat_all/>[% END %]
			[% IF repeat == 0 %]<repeat_off/>[% END %]
		</repeat>
		<audio> 		
		    <volume>[% volume | html %]</volume>
		</audio>
		
		[% IF currentsong %]	
		<current_song>
			<playlist_offset>[% thissongnum %]</playlist_offset>
			<seconds_elapsed>[% songtime | html %]</seconds_elapsed>
			<seconds_total>[% duration | html %]</seconds_total>
		[% END %]
			<song>
			[% PROCESS _xml_song_full.html %]
			</song>
		[% IF currentsong %]
		</current_song>
		[% END %]

	</player_status>

	[% IF playlist %]
	<playlist>
	[% END %]
    	[% playlist %]
 	[% IF playlist %]
	</playlist>
	[% END %]  	
</status>
