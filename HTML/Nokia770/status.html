[%# Page status.html %]
[%- IF ajaxRequest -%]
	<pre>
	[% PROCESS ajaxRequest.txt page = 'status' %]
	</pre>
[%- ELSE -%]
<!-- status.html -->
[% pagetitle = BLOCK %]
[%- playermodel | string %] : [% "PLAYING" | string -%]
[%- END -%]
[% IF player_name %][% player_name = player_name %][% END %]
[% player.name %]
[%- pageicon = 'MUSIC'
    setup    = '1'
    music    = '0'
    playlist = '0'
    status   = '1' -%]
[%- PROCESS pageheader.html thispage = 'status' -%]

	<div id = 'emptyplayer' style = 'display: none;'>
	<span class = 'playingitemtext'><p>[% "PLAYLIST_EMPTY" | string %]</span>
	</div>

	<div id = 'coverart' style = 'display: none;'>
		[% INCLUDE cover_art_display %]
	</div>
	<div id = 'radioart' style = 'display: none;'>
		<img src="[% webroot %]html/images/radio.gif" width = '195' height="195">
	</div>
	<div id = 'playliststatus' style = 'display: none;'>
		[% INCLUDE playlist_info_display %]
	</div>
	<div id = 'radioinfo' style = 'display: none;'>
		[% INCLUDE radio_info_display %]
	</div>
	<div id = 'songinfo' style = 'display: none;'>
		[% INCLUDE song_info_display %]
	</div>
	<div id = 'playlistbox' style = 'display: none;'>
		<table class = 'playlistbox'>
			<tr><td colspan = 2 align = 'right' class = 'supertinytext'>[% "CURRENT_PLAYLIST" | string %] <a href="[% webroot %]playlist.html?player=[% playerURI %]">([% "EDIT" | string %])</a></td></tr>
			<tr>
				<td align = 'right' id = 'previoussong' class = 'supertinytext'></td>
				<td align = 'right' class = 'supertinytext'>
					<img id = 'previoussong_link' src = 'html/images/smaller/prev.gif' onClick="javascript:playerButtonControl('player', 'prev', 'p0=playlist&p1=jump&p2=-1&player=[% playerURI %]&ajaxRequest=1');" height = '15'>
				</td>
			</tr>
			<tr>
				<td align = 'right' id = 'currentsong' class = 'smallplayingitemtext'></td>
				<td align = 'right' class = 'supertinytext'>&nbsp;</td>
			</tr>
			<tr>
				<td align = 'right' id = 'nextsong' class = 'supertinytext'></td>
				<td align = 'right' >
					<img id = 'nextsong_link' src="html/images/smaller/next.gif" border="0" name="next" onclick="playerButtonControl('player', 'next','p0=playlist&p1=jump&p2=%2b1&player=[% playerURI %]&ajaxRequest=1');" height = '15'>
				</td>
			</tr>
		</table>
	</div>

	[% INCLUDE progress_bar_display %]

<div id = 'controls'>
<table width = '100%'>
<tr bgcolor = 'white'>
	<td colspan = 3>
	<table width = '100%'>
	<tr>
		<td width = '50%' align = 'center'>
		[% INCLUDE player_controls %]
		</td>
		<td width = '50%' align = 'center'>
		[% INCLUDE volume_settings %]
		</td>
	</tr>
	</table>
	</td>
</tr>

<tr bgcolor = 'white'>
	<td colspan = 3>
	<table width = '100%'>
	<tr>
		<td width = '50%' align = 'center'>
			[% INCLUDE repeat_settings %]
		</td>
		<td width = '50%' align = 'center'>
			[% INCLUDE shuffle_settings %]
		</td>
	</tr>
	</table>
	</td>
</tr>
</table>

<!-- end controls div -->
</div>

[% PROCESS pagefooter.html noBuffer = '1' %]

[%# /Page status.html %]

[% END %]

[% BLOCK repeat_settings %]

<table width="100%" class = 'thinborder' cellspacing="0" cellpadding="7" align="left">
	<tr>
		<td width="100"><img src="html/images/repeat_symbol.gif" title = 'repeat settings'></td>
		[% FOREACH type= ['off','song','playlist'] %]
		<td align="center" onclick="playerButtonControl('repeat', '[% type %]','p0=playlist&p1=repeat&p2=[% loop.index %]&player=[% playerURI %]&start=[% start %]&ajaxRequest=1');" title = 'repeat [% type %]'>
		<img id = 'repeatcontrol_active_[% type %]' src="html/images/[% type %]_symbol_active.gif" border="0" style = 'display:[% IF repeat==loop.index %]block[% ELSE %]none[% END %];'></a>
		<img id = 'repeatcontrol_[% type %]' src="html/images/[% type %]_symbol.gif" border="0" style = 'display:[% IF repeat==loop.index %]none[% ELSE %]block[% END %];'></a>
		</td>
		[% END %]
	</tr>
</table>

[% END %]

[% BLOCK shuffle_settings %]

<table width="100%" class = 'thinborder' cellspacing="0" cellpadding="7" align="left">
	<tr>
		<td width = '100'><img src="html/images/shuffle_symbol.gif" title = 'shuffle settings'></td>
		[% FOREACH type = ['off','song','album'] %]
		<td align="center" onclick="playerButtonControl('shuffle', '[% type %]','p0=playlist&p1=shuffle&p2=[% loop.index %]&player=[% playerURI %]&ajaxRequest=1');" title = 'shuffle [% type %]'>
			<img id = 'shufflecontrol_active_[% type %]' src="html/images/[% type %]_symbol_active.gif" border="0" alt = 'shuffle [% type %]' style = 'display:[% IF shuffle == loop.index %]block[% ELSE %]none[% END %];'></a>
			<img id = 'shufflecontrol_[% type %]' src="html/images/[% type %]_symbol.gif" border="0" alt = 'shuffle [% type %]' style = 'display:[% IF shuffle == loop.index %]none[% ELSE %]block[% END %];'></a>
		</td>
		[% END %]
	</tr>
</table>

[% END %]

[% BLOCK cover_art_display %]
	<table class = 'thinborder' cellspacing="0" cellpadding="0">
		<tr>
		<td> 
			<a href = 'http://google.com' id = 'albumhref'>
		[% IF coverThumb -%]
			<!--<a [% albumHRef %] id = 'albumhref'>[% PROCESS statusImg height="190" %]</a>-->
			<img src="[% webroot %]html/images/cover.png" width = '190' height="190" STYLE="border: 1px solid black" id = 'coverartpath'>
		[% ELSE -%]
			<img src="[% webroot %]html/images/cover.png" width = '190' height="190" STYLE="border: 1px solid black" id = 'coverartpath'>
		[%- END %]
			</a>
		</td>
		</tr>
	</table>
[% END %]

[% BLOCK control_display %]
<span id = 'playtextmode'></span> <span id = 'thissongnum' style = 'font-weight: bold;'></span> [% "OUT_OF" | string %] <span id = 'songcount' style = 'font-weight: bold;'></span>
&nbsp;
			<!--<a href="status.html?p0=playlist&p1=zap&p2=[% thissongnum %]&player=[% playerURI %]&start=[% start %]">[zap]</a>-->
[% END %]

[% BLOCK playlist_info_display %]
	<table border="0" cellspacing="0" cellpadding="0">
		<tr>
			<td class = 'normaltext' valign = 'top' colspan = '2' height = '35' nowrap>
			[% INCLUDE control_display %]
			</td>
		</tr>
	</table>
[% END %]

[% BLOCK song_info_display %]
	<table border="0" cellspacing="0" cellpadding="0">
		<tr>
			<td class = 'normaltext' valign = 'top' nowrap height = '35'>[% "TITLE" | string %][% "COLON" | string %]</td>
			<td class = 'normaltext' valign = 'top' nowrap height = '35'>
			<a href="http://google.com" id = 'songtitle_link'>
			<span id = 'songtitle'></span>
			</a>
			</td>
		</tr>
		<tr>
			<td class="normaltext" valign = 'top' height = '35' nowrap>[% "ARTIST" | string %][% "COLON" | string %]</td>
			<td class = 'normaltext' valign = 'top' height = '35' nowrap >
			<!--<a href="http://google.com" id = 'artist_link' style="text-decoration:none">-->
			<span id = 'artist'></span>
			<!--</a>-->
			[% bio = "PLUGIN_BIOGRAPHY" | getstring; IF bio != "PLUGIN_BIOGRAPHY" %]
                   <span id = '[% bio | replace('\s+', '_') %]' class = 'supertinytext'></span>
			[% END %]
			</td>
		</tr>
		<tr>
			<td class = 'normaltext' valign = 'top' nowrap height = '35'>[% "ALBUM" | string %][% "COLON" | string %]</td>
			<td class = 'normaltext' valign = 'top' height = '35' nowrap >
			<a href="http://google.com" id = 'album_link' style="text-decoration:none">
			<span id = 'album'></span>
			</a>
			[% albumReview = "PLUGIN_ALBUMREVIEW" | getstring; IF albumReview != "PLUGIN_ALBUMREVIEW" %]
				<span id = '[% albumReview | replace('\s+', '_') %]' class = 'supertinytext'></span>
			[% END %]
			</td>
		</tr>
		<tr>
			<td class="normaltext" valign = 'top'  height = '35' nowrap>[% "GENRE" | string %][% "COLON" | string %]</td>
			<td class = 'normaltext' valign = 'top' height = '35' nowrap>
			<a href="http://google.com" id = 'genre_link' style="text-decoration:none">
			<span id = 'genre'></span>
			</a>
			</td>
		</tr>
	</table>
[% END %]

[% BLOCK progress_bar_display %]

<div id = 'progressbar_overlay' style = 'display: none;'>
	<table width = '100%' class = "thinborder_grey" cellspacing="0" cellpadding="0">
		<td class = "pbar_white" align = 'left' nowrap id = 'elapsed'>0:00</td>
		<td class = "pbar" align = 'right' nowrap id = "duration"></td>
	</table>
</div>
<div id = 'progressbar' style = 'display: none;'>
	<table width = '100%'cellspacing="0" cellpadding="0">
		<tr>
		<td valign = 'middle'>
			<img id="progressBar" name="progressBar" src="html/images/progress_color.gif" width="1" height="18">
		</td>
		</tr>
	</table>
</div>

[% END %]

[% BLOCK player_controls %]
<table class = 'thinborder' width = '100%'>
	<tr>
	<td>
	<table bgcolor="#FFFFFF" border="0" cellspacing="2" cellpadding="0" width = '100%'>
		<tr align="center">
		<td onClick="playerButtonControl('player', 'play', 'p0=play&player=[% playerURI %]&ajaxRequest=1');">
		<img id = 'playercontrol_active_play' src = "html/images/larger/play_active.gif" border="0" style = 'display:[% IF modeplay %]block[% ELSE %]none[% END %];' title = 'play'>
		<img id = 'playercontrol_play' src = "html/images/larger/play.gif" border="0" style = 'display:[% IF modeplay %]none[% ELSE %]block[% END %];' title = 'play'>
		</td>
        
		<td onclick="playerButtonControl('player', 'pause','p0=pause&player=[% playerURI %]&ajaxRequest=1');">
		<img id = 'playercontrol_active_pause' src = "html/images/larger/pause_active.gif" border="0" style = 'display:[% IF modepause %]block[% ELSE %]none[% END %];' title = 'pause'>
		<img id = 'playercontrol_pause' src = "html/images/larger/pause.gif" border="0" style = 'display:[% IF modepause %]none[% ELSE %]block[% END %];' title = 'pause'>
		</td>
        
		<td onclick="playerButtonControl('player', 'stop','p0=stop&player=[% playerURI %]&ajaxRequest=1');">
		<img id = 'playercontrol_active_stop' src = "html/images/larger/stop_active.gif" border="0" style = 'display:[% IF modestop %]block[% ELSE %]none[% END %];' title = 'stop'>
		<img id = 'playercontrol_stop' src = "html/images/larger/stop.gif" border="0" style = 'display:[% IF modestop %]none[% ELSE %]block[% END %];' title = 'stop'>
		</td>   
        
		<td> 
		<img id = 'playercontrol_prev' src="html/images/larger/prev.gif" border="0" name="prev"
onclick="document.prev.src = 'html/images/larger/prev_active.gif'; playerButtonControl('player', 'prev', 'p0=playlist&p1=jump&p2=-1&player=[% playerURI %]&ajaxRequest=1');" title = 'previous'> 
		</td>
      
<!-- ffw and rewind are really lame from a web browser. really lame

<td onclick="location.href='status.html?p0=rate&p1=-2&player=[% playerURI %]&start=[% start %]'" onMouseDown="document.rew.src = 'html/images/smaller/rew_active.gif';">
<img src="html/images/smaller/rew[% IF rateval < '0' %]_active[% END %].gif" border="0" name="rew"></td>

<td onclick="location.href='status.html?p0=rate&p1=2&player=[% playerURI %]&start=[% start %]'" onMouseDown="document.ffw.src = 'html/images/smaller/ffw_active.gif';">
<img src="html/images/smaller/ffw[% IF rateval > '1' %]_active[% END %].gif" border="0" name="ffw"></td>

-->

		<td><img id = 'playercontrol_next' src="html/images/larger/next.gif" border="0" name="next" onclick="document.next.src = 'html/images/larger/next_active.gif'; playerButtonControl('player', 'next','p0=playlist&p1=jump&p2=%2b1&player=[% playerURI %]&ajaxRequest=1');" title = 'next'>
		</td>

	</tr>
	</table>
</td></tr>
</table>

[% END %]

[% BLOCK volume_settings %]
	[% IF isplayer %]
<table class = 'thinborder' width = '100%' cellpadding = '3' bgcolor = 'white'>
	<tr>
	<td valign="bottom" width="100"><img src="html/images/vol_symbol.gif" title = 'volume settings'></td>

	<td width="25" onclick='volumeControl("0","p0=mixer&p1=volume&p2=0&player=[% playerURI %]&start=[% start %]&ajaxRequest=1");' valign="bottom">
	<img src="html/images/off_symbol.gif" id = 'bar_active_0' border="0" width="20" style="display:[% IF volume == 0 %]block[% ELSE %]none[% END %];" title = 'muted'>
	<img src="html/images/off_symbol_gray.gif" id = 'bar_0' border="0" width="20" style="display:[% IF volume == 0 %]none[% ELSE %]block[% END %];" title = 'mute player'>
	</td>
	[% vol= [20, 35, 50, 75, 80, 85, 90, 95, 100]  %]
	[% FOREACH level IN vol %]
	<td width="25" onclick='volumeControl("[% level %]","p0=mixer&p1=volume&p2=[% level %]&player=[% playerURI %]&start=[% start %]&ajaxRequest=1");' valign="bottom">
	<img src="html/images/bar_active.gif" id = 'bar_active_[% level %]' border="0" width="20" height="[% loop.count*4 %]" style="display:[% IF volume >= level %]block[% ELSE %]none[% END %];">
	<img src="html/images/bar.gif" id = 'bar_[% level %]' border="0" width="20" [% IF level != 0 %]height="[% loop.count*4 %]"[% END %] style="display:[% IF volume >= level %]none[% ELSE %]block[% END %];">
	</td>
	[% END %]
	</tr>
</table>
	[% ELSE %]
	<span class = 'smalltext'>volume settings not available for this player</span>
	[% END %]

[% END %]

[% BLOCK sleep_settings %]
<table width="100%" border="0" cellspacing="0" cellpadding="7" align="left">
	<tr>
		<td>
		<a href="status.html?p0=button&p1=sleep&player=[% playerURI %]" style="text-decoration:none"><p align="left">
		<img src="html/images/zzz_symbol.gif" border="0"></a>
		</td>

		<td align="center">
		[% IF sleeptime == '0' %]<img src="html/images/Sleep00_active.gif" border="0" width="40" height="40">[% END %]
		[% IF sleeptime %]<img src="html/images/Sleep00.gif" border="0" width="40" height="40">[% END %]
		</td>

		<td align="center">
		[% IF sleeptime == '15' %]<img src="html/images/Sleep15_active.gif" border="0" width="40" height="40">[% END %]
		[% IF sleeptime != '15' %]<img src="html/images/Sleep15.gif" border="0" width="40" height="40">[% END %]
		</td>

		<td align="center">
		[% IF sleeptime == '30' %]<img src="html/images/Sleep30_active.gif" border="0" width="40" height="40">[% END %]
		[% IF sleeptime != '30' %]<img src="html/images/Sleep30.gif" border="0" width="40" height="40">[% END %]
		</td>

		<td align="center">
		[% IF sleeptime == '45' %]<img src="html/images/Sleep45_active.gif" border="0" width="40" height="40">[% END %]
		[% IF sleeptime != '45' %]<img src="html/images/Sleep45.gif" border="0" width="40" height="40">[% END %]
		</td>

		<td align="center">
		[% IF sleeptime == '60' %]<img src="html/images/Sleep60_active.gif" border="0" width="40" height="40">[% END %]
		[% IF sleeptime != '60' %]<img src="html/images/Sleep60.gif" border="0" width="40" height="40">[% END %]
		</td>
	</tr>
</table>
[% END %]

[% BLOCK playlist_row %]

<tr>
	<td align = 'left' valign = 'top' class = [% IF item.currentsong %]'smallplayingitemtext'[% ELSE %]'supertinytext'[% END %] nowrap>
		<a href = "http://google.com" [% IF item.num == previous %]id = 'playlist_previous'>(prev)[% ELSIF item.currentsong %]id = 'playlist_current' disabled>&nbsp;[% ELSIF item.num == next %]id = 'playlist_next'>(next)[% END %]</a>
	</td>
	<td align = 'left' valign = 'top' class = [% IF item.currentsong %]'smallplayingitemtext'[% ELSE %]'supertinytext'[% END %] nowrap>
	[% item.title | truncate(25) %]
	</td>
</tr>
[% END %]

[% BLOCK radio_info_display %]
	<div id = 'streaminfo' style = 'display: none;'>
		<p>[% "REMOTE_STREAMING" | string %]:<br>
		<span id = 'streamtitle' class = 'playingitemtext'></span>
		[% hasBio = "PLUGIN_BIOGRAPHY" | getstring; IF hasBio != "PLUGIN_BIOGRAPHY" %]
           <span id = 'Stream[% hasBio | replace('\s+', '_') %]' class = 'supertinytext'></span>
        [% END %]
	</div>
[% END %]
