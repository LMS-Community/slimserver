[%# Page status.html %]
[% pagetitle = BLOCK %]
[%- playermodel | string %] : [% "PLAYING" | string -%]
[%- END -%]
[% IF player_name %][% player_name = player_name %][% END %]
[% player.name %]
[%- pageicon = 'MUSIC'
    setup    = '1'
    music    = '0'
    playlist = '0'
    status   = '1' -%]
[%- PROCESS pageheader.html -%]
[%- PROCESS menu.html -%]

<table width=100% bgcolor="#EEEEEE" border="0" cellspacing="0" cellpadding="0">
<tr><td height="15" colspan="5"></td></tr>

<tr><td width="15"></td><td colspan="3" rowspan="2" width="500">
<font class="smalltext">[% IF modeplay %][% "PLAYING" | string %][% END %]
[% IF modepause %][% "PAUSED_ON" | string %][% END %]
[% IF modestop %][% "STOPPED_ON" | string %][% END %]
[% IF currentsong %]<b>[% currentsong %]</b>&nbsp;[% "OUT_OF" | string %]<b>&nbsp;[% songcount %]</b>&nbsp;[% END %]
</font>
<a href="status.html?p0=playlist&p1=zap&p2=[% thissongnum %]&player=[% playerURI %]&start=[% start %]">[zap]</a>
<font class="actiontext">
</td>

<td rowspan="6"><td width="5"></td>

<td rowspan="6" colspan="5">	   

[% IF coverThumb %]
	<a [% albumHRef %] target="browser">[% PROCESS statusImg height="220" %]
[% END %]   

[% IF not coverThumb %]
<p align="right"><img src="html/images/nocoverart.gif" height="220" STYLE="border: dashed #666666 15px"></p>
[% END %]

</td>
<td width="15"></td>

</tr>

<tr><td height="10"></td></tr>
<tr><td height="50"></td><td><p align="left"><font class="actiontext">[% "TITLE" | string %][% "COLON" | string %]&nbsp;&nbsp;</p></td>

[% IF songtitle %]<td width="500"><a href="songinfo.html?item=[% itemobj.id %]&amp;player=[% playerURI %]" style="text-decoration:none"><font class="itemtext">[% songtitle %]</a></td>[% END %]

<tr><td></td><td height="55"><p align="left"><font class="actiontext">[% "ARTIST" | string %][% "COLON" | string %]&nbsp;&nbsp;</p></td>
   
[% IF itemobj.contributor.id %]<td><a href="browsedb.html?hierarchy=album,track&level=0&contributor=[% itemobj.contributor.id %]&amp;player=[% playerURI %]" style="text-decoration:none"><font class="itemtext">[% itemobj.artist %]</a></td>
[% END %]
</tr><tr>
          
<td height="55"></td><td><p align="left"><font class="actiontext">[% "ALBUM" | string %][% "COLON" | string %]&nbsp;&nbsp;</p></td>
<td>[% IF itemobj.album.id %]<a href="browsedb.html?hierarchy=track&level=0&album=[% itemobj.album.id %]&amp;player=[% playerURI %]" style="text-decoration:none"><font class="itemtext">[% itemobj.album %]</a></td></tr>
[% END %]

<tr><td height="55"></td><td><p align="left"><font class="actiontext">[% "GENRE" | string %][% "COLON" | string %]&nbsp;&nbsp;</p></td>
[% IF itemobj.genre.id %]<td><a href="browsedb.html?hierarchy=contributor,album,track&level=0&genre=[% itemobj.genre.id %]&amp;player=[% playerURI %]" style="text-decoration:none"><font class="itemtext">[% itemobj.genre %]</a></td>
[% END %]

</tr>
<tr><td colspan="2"><p align="left"><img src="html/images/leftcorner.gif" border="0" width="40" height="40"></p></td>
<td colspan="7"><p align="left">
</td>
<td colspan="3"><p align="right"><img src="html/images/rightcorner.gif" border="0" width="40" height="40"></p></td>

</tr>


</table>
<table bgcolor="#FFFFFF" cellpadding="0" cellspacing="0" border="0">
<tr><td height="10"></td></tr></table>

<script language="JavaScript">
<!--
	var _progressEnd = [% IF durationseconds %][% durationseconds %]+8[% END %][% IF not durationseconds %][% refresh %][% END %];
	var _progressAt = [% IF songtime %][% songtime %][% END %][% IF not songtime %]0[% END %];
	var p = 1;
	setTimeout( "refresh()", [% refresh %]*1000);

function refresh() {
	window.location.replace("[% statusroot %]?player=[% player | uri %]&amp;start=[% start %]&amp;refresh=1");
}

// Update the progress dialog with the current state
function ProgressUpdate(){[% IF modeplay %]_progressAt++;[% END %]	
	if(_progressAt > _progressEnd) _progressAt = _progressAt % _progressEnd;
	if (document.all)
		{
			p = (document.body.clientWidth * 0.8 / _progressEnd) * _progressAt;
			//document.all.progressBar.innerWidth = p+" ";
			eval("document.progressBar.width=p");
		}

	else if (document.getElementById)
		{
			p = (document.width * 0.8 / _progressEnd) * _progressAt;
			document.getElementById("progressBar").width=p+" ";
			//eval("document.progressBar.width=p");
		}
			setTimeout("ProgressUpdate()", 1000);
		}

function Click()
	{
		if (document.all||document.getElementById)
		document.write('<center><table width="80%" border="1" cellspacing="0" cellpadding="0" style="border-color:#EEEEEE;"><td height="5"><img id="progressBar" 		name="progressBar" src="html/images/progress.gif" width="1" height="5"></td></table>');
		ProgressUpdate()
	}

if (document.all||document.getElementById)
	Click()
	else
		window.onload=Click

-->

</script>

<table width=100% bgcolor="#FFFFFF" border="0" cellspacing="0" cellpadding="0">
<tr align="center">

<td height="70" onclick="location.href='status.html?p0=play&player=[% playerURI %]'">
[% IF modeplay %]<img src="html/images/play[% IF rateval == '1' %]_active[% END %].gif" border="0" width="55" height="55">[% END %]
[% IF not modeplay %]<img src="html/images/play.gif" border="0">[% END %]</td>
        
<td onclick="location.href='status.html?p0=pause&player=[% playerURI %]'">
<img src="html/images/pause[% IF modepause %]_active[% END %].gif" border="0" width="55" height="55"></td>
        
<td onclick="location.href='status.html?p0=stop&player=[% playerURI %]'">
<img src="html/images/stop[% IF modestop %]_active[% END %].gif" border="0" width="55" height="55"></td>   
        
<td onclick="location.href='status.html?p0=playlist&p1=jump&p2=-1&player=[% playerURI %]'" onMouseDown="document.prev.src = 'html/images/prev_active.gif';">
<img src="html/images/prev.gif" border="0" name="prev" width="55" height="55"></td>
      
<td onclick="location.href='status.html?p0=rate&p1=-2&player=[% playerURI %]&start=[% start %]'" onMouseDown="document.rew.src = 'html/images/rew_active.gif';">
<img src="html/images/rew[% IF rateval < '0' %]_active[% END %].gif" border="0" name="rew" width="55" height="55"></td>

<td onclick="location.href='status.html?p0=rate&p1=2&player=[% playerURI %]&start=[% start %]'" onMouseDown="document.ffw.src = 'html/images/ffw_active.gif';">
<img src="html/images/ffw[% IF rateval > '1' %]_active[% END %].gif" border="0" name="ffw" width="55" height="55"></td>

<td onclick="location.href='status.html?p0=playlist&p1=jump&p2=%2b1&player=[% playerURI %]'" onMouseDown="document.next.src = 'html/images/next_active.gif';">
<img src="html/images/next.gif" border="0" name="next" width="55" height="55"></td>

</tr></table>


<table><tr><td height="10"></td></tr></table>
<p align="left">
[% IF isplayer %]
<table bgcolor="#FFFFFF" border="0" cellspacing="0" cellpadding="3">
<tr><td valign="bottom" height="70" width="100"><img src="html/images/vol_symbol.gif"></td>

[% IF volume < 39 ;vol=['5','10','15','20','30',40]; ELSE ;vol=['5','10','15','20','30','40','50','60','80','100']; END %]
[% FOREACH level IN vol %]
<td width="25" onclick="location.href='status.html?p0=mixer&p1=volume&p2=[% level %]&player=[% playerURI %]&start=[% start %]';" valign="bottom">
<img src="html/images/bar[% IF volume == level %]_active[% END %].gif" border="0" width="50" height="[% loop.count*6 %]"></td>
[% END %]

</tr>
</table>
</p>
[% END %]


<br>
[% FOREACH tone = ['bass','treble'] %]
<table width="100%" border="0" cellspacing="0" cellpadding="4">
<tr><td width="100"><img src="html/images/[% tone %]_symbol.gif"></td>
[% FOREACH level=['10','20','30','40','50','60','70','80','90','100'] %]
<td width="25" onclick="location.href='status.html?p0=mixer&p1=[% tone %]&p2=[% level %]&player=[% playerURI %]&start=[% start %]';" valign="bottom">
<img src="html/images/bar[% IF $tone == level %]_active[% END %].gif" border="0" width="25" height="[% loop.count*3 %]"></td>
[% END %]
<td></td>
</tr></table>
[% END %]

<table width="100%" border="0"><tr><td height="25"></td></tr></table>

<table width="100%" border="0" cellspacing="0" cellpadding="7" align="left">
<tr><td width="100"><img src="html/images/repeat_symbol.gif"></td>

[% FOREACH type= ['off_symbol','song_symbol','playlist_symbol'] %]
<td width="60" align="center" onclick="location.href='status.html?p0=playlist&p1=repeat&p2=[% loop.index %]&player=[% playerURI %]&start=[% start %]'">
<img src="html/images/[% type %][% IF repeat==loop.index %]_active[% END %].gif" border="0" width="40" height="40"></a></td>
[% END %]

<td width="60"></td>
<td width="60"></td>
<td></td>

</tr><tr>

<td><img src="html/images/shuffle_symbol.gif"></td>
[% FOREACH type = ['off_symbol','song_symbol','album_symbol'] %]
<td align="center" onclick="location.href='status.html?p0=playlist&p1=shuffle&p2=[% loop.index %]&player=[% playerURI %]'">
<img src="html/images/[% type %][% IF shuffle==loop.index %]_active[% END %].gif" border="0" width="40" height="40"></a></td>
[% END %]
<td></td><td></td><td></td></tr>

<!-- Sleep

<tr>
<td>
<A href="status.html?p0=button&p1=sleep&player=[% playerURI %]" style="text-decoration:none"><p align="left">
<img src="html/images/zzz_symbol.gif" border="0"></a>
</td>

<td align="center">
[% IF sleeptime == '0' %]<img src="html/images/Sleep00_active.gif" border="0" width="40" height="40">[% END %]
[% IF sleeptime %]<img src="html/images/Sleep00.gif" border="0" width="40" height="40">[% END %]
</td>

<td align="center">
[% IF sleeptime == '15' %]<img src="html/images/Sleep15_active.gif" border="0" width="40" height="40">[% END %]
[% IF sleeptime != '15' %]<img src="html/images/Sleep15.gif" border="0" width="40" height="40">[% END %]
</td>

<td align="center">
[% IF sleeptime == '30' %]<img src="html/images/Sleep30_active.gif" border="0" width="40" height="40">[% END %]
[% IF sleeptime != '30' %]<img src="html/images/Sleep30.gif" border="0" width="40" height="40">[% END %]
</td>

<td align="center">
[% IF sleeptime == '45' %]<img src="html/images/Sleep45_active.gif" border="0" width="40" height="40">[% END %]
[% IF sleeptime != '45' %]<img src="html/images/Sleep45.gif" border="0" width="40" height="40">[% END %]
</td>

<td align="center">
[% IF sleeptime == '60' %]<img src="html/images/Sleep60_active.gif" border="0" width="40" height="40">[% END %]
[% IF sleeptime != '60' %]<img src="html/images/Sleep60.gif" border="0" width="40" height="40">[% END %]
</td>
</tr>

-->

</table>
<br>

<table bgcolor="#EEEEEE" width="100%" cellspacing="0" cellpadding="0" border="0" align="left">
<tr>
<td width="40" height="40" align="left"><img src="html/images/lefttopcorner.gif" height="40" width="40"></td>
<td><img src="html/images/trans.gif"></td>
<td width="40" height="40" align="right"><img src="html/images/righttopcorner.gif" height="40" width="40"></td>
</tr>
</table><br>
<table width="100%" bgcolor="#666666" align="left"><tr><td width="4"></td>

<td align="right"><a href="html/about.html" style="text-decoration:none"><font class="statusbartext">About</a>&nbsp;|&nbsp;
<a href="[% webroot %]setup.html?page=PLAYER_SETTINGS&player=[% playerURI %]&playerid=[% playerURI %]"><font class="statusbartext">[% "PLAYER_SETTINGS" | string %]</a>&nbsp;|&nbsp;
<a href="home.html?p0=rescan" style="text-decoration:none"><font class="statusbartext">[% "SETUP_RESCAN" | string %]</a></td>
<td width="4"></td>
</tr></table>


</font>

[% PROCESS pagefooter.html %]
[%# /Page status.html %]