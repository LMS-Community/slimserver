[% extJsScripts = BLOCK %]
	<script TYPE="text/javascript">
		Ext.EventManager.onDocumentReady(function(){
			var el = Ext.get('progressLink');
			if (el) {
				el.dom.href='javascript:void(0);';
				el.on('click', function(){
					try { parent.Settings.activateTab('status'); }
					catch(e) {}
				})
			}
		});
	</script>
[% END %]
[% PROCESS settings/header.html %]

	[% WRAPPER setting title="SETUP_LANGUAGE" desc="SETUP_LANGUAGE_DESC" %]
		<select class="stdedit" name="language" id="language">

		[% FOREACH option = languageoptions %]
			<option [% IF prefs.language == option.key %]selected [% END %]value="[% option.key %]">[% option.value %]</option>
		[%- END -%]
		
		</select>
	[% END %]

	[% WRAPPER settingSection %]
		[% WRAPPER settingGroup title="SETUP_AUDIODIR" desc="SETUP_AUDIODIR_DESC" %]
			<input type="text" class="stdedit selectFolder" name="audiodir" id="audiodir" value="[% prefs.audiodir %]" size="40">
		[% END %]

		[% WRAPPER settingGroup title="SETUP_PLAYLISTDIR" desc="SETUP_PLAYLISTDIR_DESC" %]
			<input type="text" class="stdedit selectFolder" name="playlistdir" id="playlistdir" value="[% prefs.playlistdir %]" size="40">
		[% END %]
	[% END %]

	[% WRAPPER setting title="SETUP_RESCAN" desc="SETUP_RESCAN_DESC" %]
		<select class="stdedit" name="rescantype" id="rescantype">

		[% FOREACH option = {
			'1rescan'   => 'SETUP_STANDARDRESCAN',
			'2wipedb'   => 'SETUP_WIPEDB',
			'3playlist' => 'SETUP_PLAYLISTRESCAN',
		} %]
			<option value="[% option.key %]">[% option.value | string %]</option>
		[%- END -%]
		
		</select><br/>

		<input name="rescan" type="submit" class="stdclick" value="[% "SETUP_RESCAN_BUTTON" | string %]">
		<a id="progressLink" href="[% webroot %]settings/server/status.html?player=[% playerid %]">[% IF scanning %][% "SETUP_VIEW_SCANNING" | string %][% ELSE %][% "SETUP_VIEW_NOT_SCANNING" | string %][% END %]</a>
	[% END %]

[% PROCESS settings/footer.html %]
