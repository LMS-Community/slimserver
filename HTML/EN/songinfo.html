[% pagetitle = 'SongInfo' %]
[% pageicon = 'SongInfo' %]
[% pwd_list = BLOCK %]
	/ [% "SONG_INFO" | string %] [% "FOR" | string %] <i><a href="songinfo.html?item=[% itemobj.id %]&amp;player=[% playerURI %]">[% itemobj.title | html %]</a></i>
[% END %]
[% PROCESS pageheader.html %] 

<div id="songInfoHeader">
<a href="status_header.html?command=playlist&amp;subcommand=loadtracks&amp;track=[% itemobj.id %]&amp;player=[% playerURI %]" target="status">[% "PLAY_THIS_SONG" | string %]</a>
<br>
<a href="status_header.html?command=playlist&amp;subcommand=addtracks&amp;track=[% itemobj.id %]&amp;player=[% playerURI %]" target="status">[% FILTER nbsp %][% "ADD_THIS_SONG_TO_PLAYLIST" | string %][% END %]</a>
</div>
<div class="songInfo">
	<ul>
		<li><div class="songInfoTitle">[% "TITLE" | string; "COLON" | string %]</div>
			<div class="songInfoText">[% itemobj.title | html %]</div>
		</li>

		[% FOREACH role = itemobj.contributorRoles.sort %]
	
			[% contributors = itemobj.contributorsOfType(role) %]
			
			[% IF contributors %]
				<li><div class="songInfoTitle">[% role | upper | string; "COLON" | string %]</div>
					[% contributorsHTML = [] %]
	
					<div class="songInfoText">[% FOREACH contributor = contributors.sort %]
	
						[% contributorHTMLFrag = "<a href=\"browsedb.html?hierarchy=contributor,album,track&amp;level=1&amp;contributor.id=$contributor.id&amp;player=$playerURI\" target=\"browser\">$contributor.name</a>" %]
	
						[% contributorsHTML.push(contributorHTMLFrag) %]
	
					[% END %]
	
					[% contributorsHTML.join(', ') %]</div>
				</li>
			[% END %]
	
		[% END %]
	
		[% IF itemobj.album %] 
			<li><div class="songInfoTitle">[% "ALBUM" | string; "COLON" | string %]</div>
				<div class="songInfoText"><a href="browsedb.html?hierarchy=album,track&amp;level=1&amp;album.id=[% itemobj.album.id %]&amp;player=[% playerURI %]" target="browser">[% itemobj.album.title | html %]</a></div>
			</li>
		[% END %]
	
		[% genres = itemobj.genres %] 
		[% IF genres %] 
			<li><div class="songInfoTitle">[% "GENRE" | string; "COLON" | string %]</div>
				<div class="songInfoText">[% FOREACH genre = genres %]
					<a href="browsedb.html?hierarchy=genre,contributor,album,track&amp;level=1&amp;genre.id=[% genre.id %]&amp;player=[% playerURI %]" target="browser">[% genre.name | html %]</a>
				[% END %]</div>
			</li>
		[% END %]
	
		[% IF itemobj.disc %] 
		<li><div class="songInfoTitle">[% "DISC" | string; "COLON" | string %]</div>
			<div class="songInfoText">[% itemobj.disc | html %]</div>
		</li>
		[% END %]
	
		[% IF itemobj.tracknum %] 
			<li><div class="songInfoTitle">[% "TRACK" | string; "COLON" | string %]</div>
				<div class="songInfoText">[% itemobj.tracknum | html %]</div>
			</li>
		[% END %]
	
		[% IF itemobj.album.compilation %] 
		<li><div class="songInfoTitle">[% "COMPILATION" | string; "COLON" | string %]</div>
			<div class="songInfoText">[% "YES" | string %]</div>
		</li>
		[% END %]
	
		[% IF itemobj.content_type %] 
		<li><div class="songInfoTitle">[% "TYPE" | string; "COLON" | string %]</div>
			<div class="songInfoText">[% itemobj.content_type | string %]</div>
		</li>
		[% END %]
	
		[% IF itemobj.duration %] 
			<li><div class="songInfoTitle">[% "LENGTH" | string; "COLON" | string %]</div>
				<div class="songInfoText">[% itemobj.duration | html %]</div>
			</li>
		[% END %]
	
		[% IF itemobj.replay_gain.defined %] 
			<li><div class="songInfoTitle">[% "REPLAYGAIN" | string; "COLON" | string %]</div>
				<div class="songInfoText">[% itemobj.replay_gain | format('%2.2f') | html %] dB</div>
			</li>
		[% END %]
	
		[% IF itemobj.album.replay_gain.defined %] 
			<li><div class="songInfoTitle">[% "ALBUMREPLAYGAIN" | string; "COLON" | string %]</div>
				<div class="songInfoText">[% itemobj.album.replay_gain | format('%2.2f') | html %] dB</div>
			</li>
		[% END %]
	
		[% IF itemobj.year %] 
			<li><div class="songInfoTitle">[% "YEAR" | string; "COLON" | string %]</div>
				<div class="songInfoText"><a href="browsedb.html?hierarchy=year,album,track&amp;level=1&amp;year.year=[% itemobj.year %]&amp;player=[% playerURI %]" target="browser">[% itemobj.year| html %]</a></div>
			</li>
		[% END %]
		
		[% IF itemobj.rating %] 
			<li><div class="songInfoTitle">[% "RATING" | string; "COLON" | string %]</div>
				<div class="songInfoText">[% itemobj.rating %] /100</div>
			</li>
		[% END %]
			
		[% IF comment %] 
			<li><div class="songInfoTitle">[% "COMMENT" | string; "COLON" | string %]</div>
				<div class="songInfoText">[% comment %]</div>
			</li>
		[% END %]
	
		[% IF itemobj.lyrics %] 
			<li><div class="songInfoTitle">[% "LYRICS" | string; "COLON" | string %]</div>
				<div class="songInfoText">[% itemobj.lyrics | html %]</div>
			</li>
		[% END %]
	
		[% IF filelength %] 
			<li><div class="songInfoTitle">[% "FILELENGTH" | string; "COLON" | string %]</div>
				<div class="songInfoText">[% filelength | html %] [% "BYTES" | string %]</div>
			</li>
		[% END %]
	
		[% IF itemobj.prettyBitRate %] 
			<li><div class="songInfoTitle">[% "BITRATE" | string; "COLON" | string %]</div>
				<div class="songInfoText">[% itemobj.prettyBitRate | html %]</div>
			</li>
		[% END %]
	
		[% IF itemobj.samplerate %] 
			<li><div class="songInfoTitle">[% "SAMPLERATE" | string; "COLON" | string %]</div>
				<div class="songInfoText">[% itemobj.prettySampleRate | html %]</div>
			</li>
		[% END %]
	
		[% IF itemobj.bpm %]
			<li><div class="songInfoTitle">[% "BPM" | string; "COLON" | string %]</div>
				<div class="songInfoText">[% itemobj.bpm | html %]</div>
			</li>
		[% END %]
	
		[% IF itemobj.tagversion %] 
			<li><div class="songInfoTitle">[% "TAGVERSION" | string; "COLON" | string %]</div>
				<div class="songInfoText">[% itemobj.tagversion | html %]</div>
			</li>
		[% END %]
	
		[% IF itemobj.path %] 
			<li><div class="songInfoTitle">[% "LOCATION" | string; "COLON" | string %]</div>
				<div class="songInfoText">[% itemobj.path | unuri | utf8decode | html %] <a href="[% download %]">([% "DOWNLOAD" | string %])</a> </div>
			</li>
		[% END %]
	
		[% IF itemobj.modificationTime %] 
			<li><div class="songInfoTitle">[% "MODTIME" | string; "COLON" | string %]</div>
				<div class="songInfoText">[% itemobj.modificationTime | html %]</div>
			</li>
		[% END %]
	
		[% IF itemobj.drm %]
			<li><div class="songInfoTitle">[% "NOTE" | string %]</div>
				<div class="songInfoText">[% "DRM" | string %]</div>
			</li>
		[% END %]
	
		[% IF itemobj.coverArt('cover', 1) %]
			<li><div class="songInfoTitle">[% "COVERART" | string; "COLON" | string %]</div></li>
			<li><div class="songInfoTitle"><a href="/music/[% itemobj.id %]/cover.jpg" target="cover"><img src="/music/[% itemobj.id %]/cover.jpg" alt="coverArt" onLoad="resize(this)"></a></div></li>
		[% END %]
	</ul>
</div>

[% PROCESS pagefooter.html %]
